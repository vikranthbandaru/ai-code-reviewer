# ===========================================
# AI Code Reviewer - Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# -----------------
# GitHub App Config (Required)
# -----------------

# GitHub App ID - found in your app settings
GITHUB_APP_ID=

# GitHub App Private Key - base64 encoded PEM content
# Generate: base64 -w0 private-key.pem
# Or set GITHUB_PRIVATE_KEY_PATH to path of PEM file
GITHUB_PRIVATE_KEY=

# Path to private key file (alternative to GITHUB_PRIVATE_KEY)
GITHUB_PRIVATE_KEY_PATH=

# Webhook secret for verifying GitHub webhook signatures
GITHUB_WEBHOOK_SECRET=

# -----------------
# LLM Provider Config
# -----------------

# LLM provider: 'openai' | 'azure' | 'vllm' | 'anthropic'
LLM_PROVIDER=openai

# OpenAI Configuration
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096

# Azure OpenAI Configuration
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_DEPLOYMENT=

# Local vLLM Configuration
VLLM_BASE_URL=http://localhost:8000
VLLM_MODEL=meta-llama/Llama-3-70b-chat

# Anthropic Configuration
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# -----------------
# Queue Configuration
# -----------------

# Queue backend: 'memory' | 'redis'
QUEUE_BACKEND=memory

# Redis URL (required if QUEUE_BACKEND=redis)
REDIS_URL=redis://localhost:6379

# -----------------
# Server Configuration
# -----------------

# Port for webhook server
PORT=3000

# Host to bind to
HOST=0.0.0.0

# Node environment
NODE_ENV=development

# -----------------
# Review Configuration
# -----------------

# Maximum inline comments per review (default: 10)
MAX_INLINE_COMMENTS=10

# Maximum summary length in characters (default: 4000)
MAX_SUMMARY_LENGTH=4000

# Risk score threshold for failing check (0-100, default: 85)
RISK_THRESHOLD=85

# Confidence threshold for including issues (0-1, default: 0.5)
CONFIDENCE_THRESHOLD=0.5

# -----------------
# Logging & Observability
# -----------------

# Log level: 'debug' | 'info' | 'warn' | 'error'
LOG_LEVEL=info

# Enable structured JSON logging
LOG_JSON=true

# Enable request tracing
ENABLE_TRACING=false

# OpenTelemetry endpoint (if tracing enabled)
OTEL_EXPORTER_OTLP_ENDPOINT=

# -----------------
# Static Analysis Tools
# -----------------

# Semgrep configuration
SEMGREP_RULES=auto
SEMGREP_TIMEOUT=300

# Enable/disable specific tools
ENABLE_ESLINT=true
ENABLE_SEMGREP=true
ENABLE_RUFF=true
ENABLE_BANDIT=true
ENABLE_GOSEC=true
ENABLE_STATICCHECK=true

# -----------------
# CVE/Dependency Scanning
# -----------------

# Enable OSV vulnerability scanning
ENABLE_OSV_SCAN=true

# OSV API endpoint (default: https://api.osv.dev)
OSV_API_URL=https://api.osv.dev
